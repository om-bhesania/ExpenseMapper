'use client';
"use strict";var e=require("tslib"),t=require("react"),r=require("../../assets/ExclamationFilledIcon.cjs"),a=require("../../assets/EyeIcon.cjs"),n=require("../../assets/EyeOffIcon.cjs"),l=require("./selectUtils.cjs"),o=require("../../lib/shape.cjs"),s=require("../../lib/sizing.cjs"),u=require("../../lib/spacing.cjs"),i=require("../../lib/tremorTwMerge.cjs"),d=require("../../lib/utils.cjs");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var m=c(t);const g=m.default.forwardRef(((c,g)=>{const{value:p,defaultValue:f,type:b,placeholder:h="Type...",icon:k,error:x=!1,errorMessage:w,disabled:v=!1,stepper:M,makeInputClassName:N,className:E,onChange:j,onValueChange:q}=c,C=e.__rest(c,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange"]),[T,y]=t.useState(!1),[I,R]=t.useState(!1),V=t.useCallback((()=>R(!I)),[I,R]),z=k,B=t.useRef(null),F=l.hasValue(p||f),L=e=>{var t,r;!1===e?null===(t=B.current)||void 0===t||t.blur():null===(r=B.current)||void 0===r||r.focus(),y(e)};return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:i.tremorTwMerge(N("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100","shadow-tremor-input","dark:shadow-dark-tremor-input",l.getSelectButtonColors(F,v,x),T&&i.tremorTwMerge("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),o.border.sm.all,E),onClick:()=>{v||L(!0)},onFocus:()=>{L(!0)},onBlur:()=>{L(!1)}},z?m.default.createElement(z,{className:i.tremorTwMerge(N("icon"),"shrink-0","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",s.sizing.lg.height,s.sizing.lg.width,u.spacing.md.marginLeft)}):null,m.default.createElement("input",Object.assign({ref:d.mergeRefs([B,g]),defaultValue:f,value:p,type:I?"text":b,className:i.tremorTwMerge(N("input"),"w-full focus:outline-none focus:ring-0 border-none bg-transparent text-tremor-default rounded-tremor-default transition duration-100","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",z?u.spacing.sm.paddingLeft:u.spacing.lg.paddingLeft,x?u.spacing.lg.paddingRight:u.spacing.twoXl.paddingRight,u.spacing.sm.paddingY,v?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:h,disabled:v,"data-testid":"base-input",onChange:e=>{null==j||j(e),null==q||q(e.target.value)}},C)),"password"!==b||v?null:m.default.createElement("button",{className:i.tremorTwMerge(N("toggleButton"),"mr-2"),type:"button",onClick:()=>V()},I?m.default.createElement(n,{className:i.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content")}):m.default.createElement(a,{className:i.tremorTwMerge("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content")})),x?m.default.createElement(r,{className:i.tremorTwMerge(N("errorIcon"),"text-rose-500 shrink-0",u.spacing.md.marginRight,s.sizing.lg.height,s.sizing.lg.width)}):null,null!=M?M:null),x&&w?m.default.createElement("p",{className:i.tremorTwMerge(N("errorMessage"),"text-sm text-rose-500 mt-1")},w):null)}));g.displayName="BaseInput",module.exports=g;
